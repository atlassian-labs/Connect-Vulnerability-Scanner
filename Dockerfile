FROM python:3.11-alpine

# install chromedriver
RUN apk update
RUN apk add --update ca-certificates && update-ca-certificates
RUN apk add --update openssl wget chromium chromium-chromedriver

RUN adduser -S app
USER app
WORKDIR /app
# upgrade pip
RUN pip install --upgrade pip
COPY . /app
RUN pip install -r requirements.txt
ENTRYPOINT ["python3", "scan.py"]
